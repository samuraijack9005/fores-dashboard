var app=angular.module("mainApp",[]);app.controller("mainController",["$scope","$http","$timeout",function(e,t,a){e.timeFrameArray=["h1","h4","d1","w1"],e.serverAddress="http://3.14.15.110:4000",e.timeFrame="h1",e.refreshButton="refresh-inactive",e.currencies=["aud","usd","eur","cad","gbp","chf","jpy","nzd"],e.apiCall=function(){t({method:"GET",url:e.serverAddress+"/api"}).then(function(t){e.ApiData=t.data.data,e.weakStrong=e.ApiData[2],e.currencyMeter2=e.ApiData[0]},function(e){console.log(e)})},e.apiCall(),e.chartFunc=function(t){let a=[],n=[];e.animal=e.ApiData[0][t];for(let t=0;t<e.currencies.length;t++)a.push({label:e.currencies[t],y:e.animal[e.currencies[t]].bull}),n.push({label:e.currencies[t],y:e.animal[e.currencies[t]].bear});new CanvasJS.Chart("animals",{height:190,width:300,axisY:{labelFontSize:10,margin:-18},axisX:{},data:[{type:"bar",color:"green",dataPoints:a},{type:"bar",color:"red",dataPoints:n}]}).render(),$(".canvasjs-chart-credit").remove()},e.getDxy=function(){t({method:"GET",url:e.serverAddress+"/dxy"}).then(function(t){e.currentDxy=t.data.data[0].current,e.changeDxy=t.data.data[0].change},function(e){console.log(e)})},e.getDxy(),setInterval(function(){e.getDxy()},5e3),e.getNews=function(){e.breakingNews=[],e.stories=[],t({method:"GET",url:e.serverAddress+"/news"}).then(function(t){e.refreshButton="refresh-inactive",angular.element("#refresh-button").removeClass("class-rotate"),e.newsRaw=t.data.data;for(let t=0;t<e.newsRaw.length;t++)"high"==e.newsRaw[t].impact||"medium"==e.newsRaw[t].impact?e.breakingNews.push(e.newsRaw[t]):e.stories.push(e.newsRaw[t])},function(e){console.log(e)})},e.getNews(),setInterval(function(){e.refreshButton="refresh-active",e.getNews()},6e5);e.refreshNews=function(){e.refreshButton="refresh-active",angular.element("#refresh-button").addClass("class-rotate"),e.getNews(),0,console.log(e.refreshButton)},e.changeCal=function(t){console.log(t),e.currentEvents=[],e.currentEvents=t},e.getCalendar=function(){t({method:"GET",url:e.serverAddress+"/calendar"}).then(function(t){e.todaysEvents=[],e.tomorrowsEvents=[],e.calendarData=JSON.parse(JSON.stringify(t.data.data));let a=-1,n=-1;e.startFound=!1;for(let t=0;t<e.calendarData.length;t++){let r=JSON.parse(JSON.stringify(e.calendarData[t]));if("today"!=r.date||e.startFound||-1!=a){if(e.startFound&&"today"!=r.date){n=t;break}}else a=t,e.startFound=!0}e.yesterdaysEvents=e.calendarData.slice(0,a),e.todaysEvents=e.calendarData.slice(a,n),e.tomorrowsEvents=e.calendarData.slice(n,e.calendarData.length),console.log(e.calendarData),console.log(a,n),console.log(e.yesterdaysEvents),console.log(e.todaysEvents),console.log(e.tomorrowsEvents),e.changeCal(e.todaysEvents)},function(e){console.log(e)})},e.getCalendar()}]),app.filter("first60",[function(){return function(e){return e.length>60?e.slice(0,60)+"...":e}}]),app.filter("idTypeCast",[function(){return function(e){let t=e.replace(/[0-9]/g,"X");return(t=(t=t.replace(/[;]/g,"X")).replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"")).split(" ").join("-")}}]),app.filter("timeFilter",[function(){return function(e){let t=e.replace(/ago/g,"");return t=(t=t.replace(/min/g,"m")).replace(/hr/g,"h")}}]),app.filter("dateSlice",[function(){return function(e){return e.slice(0,e.length-2)}}]);
//# sourceMappingURL=maps/main.min.js.map
